import java.util.concurrent.TimeUnit

//plugins {
//    id 'org.gosu-lang.gosu' version '0.1.2-alpha-SNAPSHOT'
//}

buildscript {
    repositories {
        mavenLocal()
        maven {
            url 'https://oss.sonatype.org/content/repositories/snapshots/' //for Gosu snapshot builds
        }
        jcenter()
    }
    dependencies {
        classpath 'org.gosu-lang.gosu:gradle-gosu-plugin:0.1.3-alpha-SNAPSHOT'
    }
}
apply plugin: 'org.gosu-lang.gosu'

repositories {
    mavenLocal()
    mavenCentral()
    maven {
        url 'https://oss.sonatype.org/content/repositories/snapshots/' //for Gosu snapshot builds
    }
    jcenter()
}

configurations.all {
    resolutionStrategy {
        cacheDynamicVersionsFor 0, TimeUnit.SECONDS
        cacheChangingModulesFor 0, TimeUnit.SECONDS
    }
}

dependencies {
    compile 'org.gosu-lang.gosu:gosu-core-api:1.9.1'
    testCompile group: 'junit', name: 'junit', version: '4.11'
}

//sourceSets.main.gosu {
//    compileClasspath = tasks.getByName('compileJava').outputs.files
//}

compileGosu {
    gosuClasspath = tasks.getByName('compileJava').outputs.files
}

// or
//compileJava {
//    options.bootClasspath = tasks.getByName('compileGosu').outputs.files
//}